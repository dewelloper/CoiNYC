! function() {
    "use strict";

    function a(b, c) {
        a.registry[b] = c
    }

    function b() {}

    function c(a) {
        a = a.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var b = new RegExp("[\\?&]" + a + "=([^&#]*)"),
            c = b.exec(location.search);
        return null === c ? "" : decodeURIComponent(c[1].replace(/\+/g, " "))
    }

    function d(a) {
        var b = document.createElement("div"),
            c = document.createElement("div"),
            d = document.createElement("i"),
            f = document.createElement("iframe");
        return b.className = W, c.className = X, d.className = Y, a = e(a), f.setAttribute("src", a), f.setAttribute("frameborder", "0"), c.appendChild(d), c.appendChild(f), b.appendChild(c), b
    }

    function e(a) {
        var b = Object.keys($).map(function(a) {
            return a + "=" + $[a]
        });
        return a + "?" + b.join("&")
    }

    function f(a) {
        var b = d(a);
        g(), Z = b, h(), b.addEventListener("click", g, !1), document.body.appendChild(b)
    }

    function g() {
        Z && (Z.parentElement.removeChild(Z), Z = null)
    }

    function h() {
        var a, b, c;
        Z && (b = Z.querySelector("." + X), c = b.querySelector("iframe"), a = j(b), Object.keys(a).forEach(function(c) {
            b.style[c] = a[c] + "px"
        }), c.setAttribute("width", a.width), c.setAttribute("height", a.height))
    }

    function i(a, b, c) {
        return Math.max(b, Math.min(a, c))
    }

    function j(a) {
        var b, c, d, e, f, g;
        return b = window.innerWidth, c = window.innerHeight, d = i(b - 2 * T, U, V), e = d / S, e > c - 2 * T && (e = c - 2 * T, d = e * S), f = (c - e) / 2, g = (b - d) / 2, {
            width: d,
            height: e,
            top: f,
            left: g
        }
    }

    function k(a, b, c) {
        var d = null;
        return function() {
            var e, f = arguments.length,
                g = new Array(f);
            for (d && window.clearTimeout(d), e = 0; e < f; e++) g[e] = arguments[e];
            d = window.setTimeout(function() {
                a.apply(c || null, g)
            }, b)
        }
    }

    function l() {
        return null !== da ? da : da = ca.filter(function(a) {
            var b = window.getComputedStyle(a);
            return "visible" === b.visibility
        })[0].dataset.breakpoint
    }

    function m(a) {
        this.config = a, this.x = a.x || 0, this.y = a.y || 0, this.direction = Object.assign({
            x: 1,
            y: 1
        }, a.direction), this.velocity = Object.assign({
            x: 0,
            y: 0
        }, a.velocity), this.bounds = Object.assign({
            w: 0,
            y: 0
        }, a.bounds)
    }

    function n(a) {
        m.call(this, a), this.radius = a.radius || 5, this.color = a.color || "#000"
    }

    function o() {
        ea.form = document.querySelector("#form-mdu-refer"), ea.inputs = Array.prototype.slice.call(ea.form.querySelectorAll('input:not([type="radio"]), select')), ea.success = document.querySelector(".submit-success"), Object.defineProperty(ea, "radio", {
            get: function() {
                return document.querySelector('input[name="refer"]:checked')
            }
        }), r()
    }

    function p(a) {
        return /^\d{5}(?:[-\s]\d{4})?$/.test(a)
    }

    function q(a) {
        return /^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(a)
    }

    function r() {
        ea.form.addEventListener("submit", A, !1)
    }

    function s(a) {
        var b = a.parentNode;
        return b.classList.add("error"), a
    }

    function t(a) {
        var b = a.parentNode;
        return b.classList.remove("error"), a
    }

    function u(a) {
        return void 0 !== a.dataset.validate
    }

    function v(a) {
        return !a.value || "none" === a.value
    }

    function w(a) {
        var b = fa[a.dataset.validate];
        return "function" == typeof b ? !b(a.value) : v(a)
    }

    function x() {
        return !ea.inputs.filter(u).map(t).filter(w).map(s).length
    }

    function y(a) {
        ea.success.style.visibility = "visible"
    }

    function z(a) {
        J.ajax({
            url: "/referrals",
            method: "POST"
        }, a, function(a, b) {
            a || y(b)
        })
    }

    function A(a) {
        a.preventDefault(), x() && z(D())
    }

    function B(a) {
        return "submit" !== a.type
    }

    function C(a, b) {
        return a[b.name] = b.value, a
    }

    function D() {
        return ea.inputs.filter(B).concat([ea.radio]).reduce(C, {})
    }
    a.registry = {}, a("index", b);
    for (var E = 0, F = ["ms", "moz", "webkit", "o"], G = 0; G < F.length && !window.requestAnimationFrame; ++G) window.requestAnimationFrame = window[F[G] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[F[G] + "CancelAnimationFrame"] || window[F[G] + "CancelRequestAnimationFrame"];
    window.requestAnimationFrame || (window.requestAnimationFrame = function(a, b) {
            var c = (new Date).getTime(),
                d = Math.max(0, 16 - (c - E)),
                e = window.setTimeout(function() {
                    a(c + d)
                }, d);
            return E = c + d, e
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(a) {
            clearTimeout(a)
        }),
        function(a) {
            function b() {}

            function c() {
                try {
                    return document.activeElement
                } catch (a) {}
            }

            function d(a, b) {
                for (var c = 0, d = a.length; c < d; c++)
                    if (a[c] === b) return !0;
                return !1
            }

            function e(a, b, c) {
                return a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent ? a.attachEvent("on" + b, c) : void 0
            }

            function f(a, b) {
                var c;
                a.createTextRange ? (c = a.createTextRange(), c.move("character", b), c.select()) : a.selectionStart && (a.focus(), a.setSelectionRange(b, b))
            }

            function g(a, b) {
                try {
                    return a.type = b, !0
                } catch (c) {
                    return !1
                }
            }

            function h(a, b) {
                if (a && a.getAttribute(B)) b(a);
                else
                    for (var c, d = a ? a.getElementsByTagName("input") : N, e = a ? a.getElementsByTagName("textarea") : O, f = d ? d.length : 0, g = e ? e.length : 0, h = f + g, i = 0; i < h; i++) c = i < f ? d[i] : e[i - f], b(c)
            }

            function i(a) {
                h(a, k)
            }

            function j(a) {
                h(a, l)
            }

            function k(a, b) {
                var c = !!b && a.value !== b,
                    d = a.value === a.getAttribute(B);
                if ((c || d) && "true" === a.getAttribute(C)) {
                    a.removeAttribute(C), a.value = a.value.replace(a.getAttribute(B), ""), a.className = a.className.replace(A, "");
                    var e = a.getAttribute(I);
                    parseInt(e, 10) >= 0 && (a.setAttribute("maxLength", e), a.removeAttribute(I));
                    var f = a.getAttribute(D);
                    return f && (a.type = f), !0
                }
                return !1
            }

            function l(a) {
                var b = a.getAttribute(B);
                if ("" === a.value && b) {
                    a.setAttribute(C, "true"), a.value = b, a.className += " " + z;
                    var c = a.getAttribute(I);
                    c || (a.setAttribute(I, a.maxLength), a.removeAttribute("maxLength"));
                    var d = a.getAttribute(D);
                    return d ? a.type = "text" : "password" === a.type && g(a, "text") && a.setAttribute(D, "password"), !0
                }
                return !1
            }

            function m(a) {
                return function() {
                    P && a.value === a.getAttribute(B) && "true" === a.getAttribute(C) ? f(a, 0) : k(a)
                }
            }

            function n(a) {
                return function() {
                    l(a)
                }
            }

            function o(a) {
                return function() {
                    i(a)
                }
            }

            function p(a) {
                return function(b) {
                    if (v = a.value, "true" === a.getAttribute(C) && v === a.getAttribute(B) && d(x, b.keyCode)) return b.preventDefault && b.preventDefault(), !1
                }
            }

            function q(a) {
                return function() {
                    k(a, v), "" === a.value && (a.blur(), f(a, 0))
                }
            }

            function r(a) {
                return function() {
                    a === c() && a.value === a.getAttribute(B) && "true" === a.getAttribute(C) && f(a, 0)
                }
            }

            function s(a) {
                var b = a.form;
                b && "string" == typeof b && (b = document.getElementById(b), b.getAttribute(E) || (e(b, "submit", o(b)), b.setAttribute(E, "true"))), e(a, "focus", m(a)), e(a, "blur", n(a)), P && (e(a, "keydown", p(a)), e(a, "keyup", q(a)), e(a, "click", r(a))), a.setAttribute(F, "true"), a.setAttribute(B, T), (P || a !== c()) && l(a)
            }
            var t = document.createElement("input"),
                u = void 0 !== t.placeholder;
            if (a.Placeholders = {
                    nativeSupport: u,
                    disable: u ? b : i,
                    enable: u ? b : j
                }, !u) {
                var v, w = ["text", "search", "url", "tel", "email", "password", "number", "textarea"],
                    x = [27, 33, 34, 35, 36, 37, 38, 39, 40, 8, 46],
                    y = "#ccc",
                    z = "placeholdersjs",
                    A = new RegExp("(?:^|\\s)" + z + "(?!\\S)"),
                    B = "data-placeholder-value",
                    C = "data-placeholder-active",
                    D = "data-placeholder-type",
                    E = "data-placeholder-submit",
                    F = "data-placeholder-bound",
                    G = "data-placeholder-focus",
                    H = "data-placeholder-live",
                    I = "data-placeholder-maxlength",
                    J = 100,
                    K = document.getElementsByTagName("head")[0],
                    L = document.documentElement,
                    M = a.Placeholders,
                    N = document.getElementsByTagName("input"),
                    O = document.getElementsByTagName("textarea"),
                    P = "false" === L.getAttribute(G),
                    Q = "false" !== L.getAttribute(H),
                    R = document.createElement("style");
                R.type = "text/css";
                var S = document.createTextNode("." + z + " {color:" + y + ";}");
                R.styleSheet ? R.styleSheet.cssText = S.nodeValue : R.appendChild(S), K.insertBefore(R, K.firstChild);
                for (var T, U, V = 0, W = N.length + O.length; V < W; V++) U = V < N.length ? N[V] : O[V - N.length], T = U.attributes.placeholder, T && (T = T.nodeValue, T && d(w, U.type) && s(U));
                var X = setInterval(function() {
                    for (var a = 0, b = N.length + O.length; a < b; a++) U = a < N.length ? N[a] : O[a - N.length], T = U.attributes.placeholder, T ? (T = T.nodeValue, T && d(w, U.type) && (U.getAttribute(F) || s(U), (T !== U.getAttribute(B) || "password" === U.type && !U.getAttribute(D)) && ("password" === U.type && !U.getAttribute(D) && g(U, "text") && U.setAttribute(D, "password"), U.value === U.getAttribute(B) && (U.value = T), U.setAttribute(B, T)))) : U.getAttribute(C) && (k(U), U.removeAttribute(B));
                    Q || clearInterval(X)
                }, J);
                e(a, "beforeunload", function() {
                    M.disable()
                })
            }
        }(window);
    var ba = ".breakpoint-detection",
        ca = Array.prototype.slice.call(document.querySelectorAll(ba)),
        da = null;
    window.addEventListener("resize", function() {
        da = null
    }), a("sticky-station", function() {
        function a() {
            return (window.pageYOffset || i.scrollTop) - (i.clientTop || 0)
        }

        function b() {
            var a = l();
            p = window.innerHeight, "large" === a ? (o.call(g, function(a) {
                a.style.height = p + "px"
            }), f.style.height = p + "px") : (o.call(g, function(a) {
                a.style.height = "auto"
            }), f.style.height = "auto")
        }

        function c() {
            var b = a(),
                c = e.offsetTop,
                d = c,
                f = d + p * (g.length - 1),
                h = (b - d) / (f - d),
                i = 1 + Math.round(h * (g.length - 1));
            return i = Math.max(1, Math.min(g.length, i))
        }

        function d() {
            var b = a(),
                i = e.offsetTop,
                l = i,
                o = l + p * (g.length - 1) + 100,
                q = c();
            null === j && (j = q), j !== q && (j = q, h.setAttribute("data-panel", j)), !m && b >= l && b <= o ? (h.classList.remove("is-bottom"), f.classList.add("is-fixed"), m = !0) : (m && b < i || b > o) && (f.classList.remove("is-fixed"), m = !1), !m && !n && b >= o ? (f.classList.add("is-bottom"), n = !0) : n && b <= o && (f.classList.remove("is-bottom"), n = !1), k(d)
        }
        var e = document.querySelector(".sticky-station"),
            i = document.documentElement,
            j = null,
            k = window.requestAnimationFrame,
            m = !1,
            n = !1,
            o = Array.prototype.forEach,
            p = window.innerHeight;
        window.addEventListener("resize", b), b(), d()
    }), a("specs", function() {
        function a(a) {
            return Array.prototype.slice.call(document.querySelectorAll(a))
        }

        function b(a) {
            var b = e.indexOf(a);
            d.dataset.activeindex = b, c.dataset.activeindex = b
        }
        var c = a(".specs")[0],
            d = a(".specs-header__container")[0],
            e = a(".specs-header__link");
        e.forEach(function(a) {
            a.addEventListener("click", function(a) {
                b(a.currentTarget)
            })
        })
    }), a("buy-now-test", function() {
        var a;
        a = Array.prototype.slice.call(document.querySelectorAll(".js-buy-now")), a.forEach(function(a) {
            a.addEventListener("click", function(a) {
                window.dataLayer.push({
                    event: "sta-buy-now-click"
                })
            })
        })
    }), a("clicks", function() {
        var a;
        a = Array.prototype.slice.call(document.querySelectorAll(".js-click-event")), a.forEach(function(a) {
            a.addEventListener("click", function(a) {
                window.dataLayer.push({
                    event: a.currentTarget.dataset.event
                })
            })
        })
    }), m.prototype.move = function(a) {
        a = "undefined" == typeof a ? 1 : a, this.x += this.velocity.x * a * this.direction.x, this.y += this.velocity.y * a * this.direction.y
    }, m.prototype.toggleDirection = function(a) {
        this.direction[a] *= -1
    }, n.prototype = Object.create(m.prototype), n.prototype.draw = function(a) {
        a.beginPath(), a.fillStyle = this.color, a.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, !1), a.fill()
    }, n.prototype.boundaryCheck = function() {
        var a = this.bounds.w,
            b = this.bounds.h;
        this.x >= a - this.radius ? (this.x = a - this.radius, this.toggleDirection("x")) : this.x <= 0 + this.radius && (this.x = 0 + this.radius, this.toggleDirection("x")), this.y >= b - this.radius ? (this.y = b - this.radius, this.toggleDirection("y")) : this.y <= 0 + this.radius && (this.y = 0 + this.radius, this.toggleDirection("y"))
    }, a("orbs-animation", function() {
        function a() {
            var a = document.querySelector(".js-orbs-animation"),
                b = a.offsetHeight;
            r.setAttribute("width", window.innerWidth), r.setAttribute("height", b), j = r.width, m = r.height, 1 !== t && (r.style.width = r.width + "px", r.style.height = r.height + "px", r.width *= t, r.height *= t, s.scale(t, t))
        }

        function b() {
            s.clearRect(0, 0, j, m)
        }

        function c() {
            var a, b = o.velocities,
                c = o.colors,
                d = o.sizes;
            for (a = 0; a < o.numOrbs; a++) p.push(new n({
                x: 1,
                y: 1,
                bounds: {
                    w: j,
                    h: m
                },
                direction: {
                    x: -1 + 2 * Math.random(),
                    y: -1 + 2 * Math.random()
                },
                velocity: {
                    x: b[Math.floor(Math.random() * b.length)],
                    y: b[Math.floor(Math.random() * b.length)]
                },
                color: c[Math.floor(Math.random() * c.length)],
                radius: d[Math.floor(Math.random() * d.length)]
            }))
        }

        function d() {
            var a = function() {
                    var a = 1,
                        b = j / o.numOrbs;
                    return function() {
                        return a += b
                    }
                }(),
                b = function() {
                    var a = 6,
                        b = m / a,
                        c = 0;
                    return function() {
                        return ++c > a && (c = 0), c * b
                    }
                }();
            p.forEach(function(c) {
                c.bounds.w = j, c.bounds.h = m, c.x = a(), c.y = b()
            })
        }

        function e() {
            p.forEach(function(a) {
                a.draw(s)
            })
        }

        function f() {
            p.forEach(function(a) {
                a.move(), a.boundaryCheck()
            })
        }

        function g() {
            u && (b(), e(), f(), q(g))
        }

        function h() {
            a(), c(), d(), u = !0, q(g)
        }
        var i = l();
        if ("small" !== i) {
            var j, m, o = {
                    numOrbs: 30,
                    colors: ["#f3766b", "#bdcad4", "#737e98"],
                    sizes: [7, 7, 7, 7, 14, 14, 14, 14, 21, 21, 21, 21, 28],
                    velocities: [.4, .5, .6, .7]
                },
                p = [],
                q = window.requestAnimationFrame,
                r = document.getElementById("orbs"),
                s = r.getContext("2d"),
                t = window.devicePixelRatio || 1,
                u = !1;
            h(), window.addEventListener("resize", k(function() {
                a(), d()
            }, 500))
        }
    });
    var ea = {},
        fa = {
            zipcode: p,
            email: q
        };
    a("mdu-refer", o), document.addEventListener("DOMContentLoaded", function() {
        var b = document.querySelectorAll("[data-module]");
        Array.prototype.slice.call(b).forEach(function(b) {
            var c = b.getAttribute("data-module"),
                d = a.registry[c];
            "function" == typeof d && (d(), delete a.registry[c])
        })
    })
}();
